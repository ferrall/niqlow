{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}C:\Users\Chris\Documents\OFFICE\software\Microeconometrics\niqlow\examples\replications\Rust_AM_replicate.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res} 3 Nov 2020, 13:48:43

{com}. summ

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 7}group {c |}{res}      8,260    3.409564    .7494959          1          4
{txt}{space 10}id {c |}{res}      8,260    4816.583    601.7782       2386       5333
{txt}{space 11}s {c |}{res}      8,260    45.54552    31.05046          0        116
{txt}{space 11}t {c |}{res}      8,260           0           0          0          0
{txt}{space 10}mi {c |}{res}      8,260    118199.6    85117.12          1     388254
{txt}{hline 13}{c +}{hline 57}
{space 11}d {c |}{res}      8,260    .0072639    .0849237          0          1
{txt}{space 9}x90 {c |}{res}      8,260    23.14649    17.02145          0         77
{txt}{space 8}dx90 {c |}{res}      8,156    .6593919    .4984083          0          2
{txt}{space 8}x175 {c |}{res}      8,260    45.46356    33.10435          0        150
{txt}{space 7}dx175 {c |}{res}      8,156    1.287641    .6789463          0          3
{txt}{hline 13}{c +}{hline 57}
{space 1}id_in_group {c |}{res}      8,260    63.53257    27.52894          0        104
{txt}{space 8}mnmi {c |}{res}      8,260    118199.6    37225.85   32223.96   208709.2
{txt}{space 7}busid {c |}{res}      8,260    99.45472    27.51121         59        162
{txt}{space 7}model {c |}{res}      8,260    278350.6    265015.9         50     530875
{txt}{space 10}yr {c |}{res}      8,260     1981.08    2.617909       1975       1985
{txt}{hline 13}{c +}{hline 57}
{space 9}mth {c |}{res}      8,260    6.489831    3.489873          1         12
{txt}{space 8}d_am {c |}{res}      8,260    .0072639    .0849237          0          1
{txt}{space 7}mi_am {c |}{res}      8,260    118235.2    85129.34          0     388254
{txt}{space 11}n {c |}{res}      8,260      4130.5    2384.601          1       8260
{txt}{space 6}_merge {c |}{res}      8,260           3           0          3          3

{com}. descr

{txt}Contains data from {res}Rust_AM_replicate.dta
{txt}  obs:{res}         8,260                          OxMetrics data
{txt} vars:{res}            20                          3 Nov 2020 13:47
{txt}{hline}
              storage   display    value
variable name   type    format     label      variable label
{hline}
{p 0 48}{res}{bind:group          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:id             }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:s              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:t              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:mi             }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:d              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:x90            }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:dx90           }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:x175           }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:dx175          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:id_in_group    }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}group(group id){p_end}
{p 0 48}{bind:mnmi           }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:busid          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:model          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:yr             }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:mth            }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:d_am           }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:mi_am          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:n              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:_merge         }{txt}{bind: byte    }{bind:{txt}%23.0g    }{space 1}{bind:_merge   }{bind:  }{res}{res}{p_end}
{txt}{hline}
Sorted by: {res}group  id  s
     Note: Dataset has changed since last saved.

{com}. scalar mx = 450000

. gen x90_am = 0

. foreach k of num 1/90 {c -(}
{txt}  2{com}.  replace x90_am = `k' if (`k'*(mx/90)< mi_am) & ((`k'+1)*(mx/90) >= mi_am)
{txt}  3{com}. {c )-}
{txt}(188 real changes made)
(209 real changes made)
(253 real changes made)
(249 real changes made)
(260 real changes made)
(217 real changes made)
(225 real changes made)
(217 real changes made)
(201 real changes made)
(207 real changes made)
(199 real changes made)
(184 real changes made)
(193 real changes made)
(186 real changes made)
(181 real changes made)
(185 real changes made)
(188 real changes made)
(184 real changes made)
(165 real changes made)
(172 real changes made)
(156 real changes made)
(156 real changes made)
(141 real changes made)
(141 real changes made)
(143 real changes made)
(134 real changes made)
(143 real changes made)
(131 real changes made)
(120 real changes made)
(118 real changes made)
(105 real changes made)
(107 real changes made)
(115 real changes made)
(108 real changes made)
(115 real changes made)
(114 real changes made)
(112 real changes made)
(116 real changes made)
(107 real changes made)
(104 real changes made)
(107 real changes made)
(99 real changes made)
(104 real changes made)
(89 real changes made)
(82 real changes made)
(81 real changes made)
(83 real changes made)
(74 real changes made)
(74 real changes made)
(63 real changes made)
(69 real changes made)
(59 real changes made)
(58 real changes made)
(44 real changes made)
(40 real changes made)
(39 real changes made)
(32 real changes made)
(38 real changes made)
(32 real changes made)
(28 real changes made)
(26 real changes made)
(23 real changes made)
(23 real changes made)
(24 real changes made)
(24 real changes made)
(15 real changes made)
(15 real changes made)
(17 real changes made)
(16 real changes made)
(8 real changes made)
(6 real changes made)
(6 real changes made)
(3 real changes made)
(2 real changes made)
(2 real changes made)
(2 real changes made)
(3 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)

{com}. gen x175_am = 0

. foreach k of num 1/90 {c -(}
{txt}  2{com}. {c )-}

. foreach k of num 1/175 {c -(}
{txt}  2{com}.  replace x175_am = `k' if (`k'*(mx/175)< mi_am) & ((`k'+1)*(mx/175) >= mi_am)
{txt}  3{com}. {c )-}
{txt}(67 real changes made)
(90 real changes made)
(103 real changes made)
(109 real changes made)
(117 real changes made)
(118 real changes made)
(139 real changes made)
(120 real changes made)
(135 real changes made)
(137 real changes made)
(123 real changes made)
(108 real changes made)
(121 real changes made)
(111 real changes made)
(118 real changes made)
(115 real changes made)
(103 real changes made)
(107 real changes made)
(104 real changes made)
(113 real changes made)
(100 real changes made)
(97 real changes made)
(96 real changes made)
(96 real changes made)
(97 real changes made)
(99 real changes made)
(99 real changes made)
(93 real changes made)
(99 real changes made)
(92 real changes made)
(97 real changes made)
(89 real changes made)
(103 real changes made)
(90 real changes made)
(94 real changes made)
(97 real changes made)
(82 real changes made)
(83 real changes made)
(76 real changes made)
(113 real changes made)
(74 real changes made)
(76 real changes made)
(85 real changes made)
(72 real changes made)
(65 real changes made)
(79 real changes made)
(82 real changes made)
(67 real changes made)
(70 real changes made)
(76 real changes made)
(67 real changes made)
(71 real changes made)
(71 real changes made)
(61 real changes made)
(78 real changes made)
(57 real changes made)
(76 real changes made)
(54 real changes made)
(60 real changes made)
(57 real changes made)
(59 real changes made)
(59 real changes made)
(49 real changes made)
(58 real changes made)
(56 real changes made)
(53 real changes made)
(62 real changes made)
(57 real changes made)
(58 real changes made)
(61 real changes made)
(58 real changes made)
(60 real changes made)
(54 real changes made)
(62 real changes made)
(56 real changes made)
(54 real changes made)
(56 real changes made)
(53 real changes made)
(55 real changes made)
(56 real changes made)
(51 real changes made)
(50 real changes made)
(60 real changes made)
(52 real changes made)
(48 real changes made)
(43 real changes made)
(42 real changes made)
(41 real changes made)
(40 real changes made)
(50 real changes made)
(49 real changes made)
(34 real changes made)
(41 real changes made)
(32 real changes made)
(44 real changes made)
(33 real changes made)
(36 real changes made)
(35 real changes made)
(38 real changes made)
(30 real changes made)
(36 real changes made)
(27 real changes made)
(27 real changes made)
(31 real changes made)
(23 real changes made)
(21 real changes made)
(23 real changes made)
(20 real changes made)
(17 real changes made)
(21 real changes made)
(16 real changes made)
(19 real changes made)
(20 real changes made)
(16 real changes made)
(19 real changes made)
(17 real changes made)
(15 real changes made)
(11 real changes made)
(12 real changes made)
(16 real changes made)
(9 real changes made)
(12 real changes made)
(14 real changes made)
(9 real changes made)
(13 real changes made)
(14 real changes made)
(13 real changes made)
(9 real changes made)
(6 real changes made)
(8 real changes made)
(7 real changes made)
(9 real changes made)
(9 real changes made)
(8 real changes made)
(10 real changes made)
(4 real changes made)
(4 real changes made)
(3 real changes made)
(3 real changes made)
(3 real changes made)
(3 real changes made)
(2 real changes made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(1 real change made)
(2 real changes made)
(1 real change made)
(2 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(0 real changes made)

{com}. sum x*

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 9}x90 {c |}{res}      8,260    23.14649    17.02145          0         77
{txt}{space 8}x175 {c |}{res}      8,260    45.46356    33.10435          0        150
{txt}{space 6}x90_am {c |}{res}      8,260    23.15363    17.02365          0         77
{txt}{space 5}x175_am {c |}{res}      8,260    45.48039    33.10574          0        150

{com}. descr

{txt}Contains data from {res}Rust_AM_replicate.dta
{txt}  obs:{res}         8,260                          OxMetrics data
{txt} vars:{res}            22                          3 Nov 2020 13:47
{txt}{hline}
              storage   display    value
variable name   type    format     label      variable label
{hline}
{p 0 48}{res}{bind:group          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:id             }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:s              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:t              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:mi             }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:d              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:x90            }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:dx90           }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:x175           }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:dx175          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:id_in_group    }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}group(group id){p_end}
{p 0 48}{bind:mnmi           }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:busid          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:model          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:yr             }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:mth            }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:d_am           }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:mi_am          }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:n              }{txt}{bind: double  }{bind:{txt}%10.0f    }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:_merge         }{txt}{bind: byte    }{bind:{txt}%23.0g    }{space 1}{bind:_merge   }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:x90_am         }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:x175_am        }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{txt}{hline}
Sorted by: {res}group  id  s
     Note: Dataset has changed since last saved.

{com}. qui by id : gen dx90_am = x90_am[_n+1]-x90_am*(1-d_am)
{err}not sorted
{txt}{search r(5), local:r(5);}

{com}. sort id s

. qui by id : gen dx90_am = x90_am[_n+1]-x90_am*(1-d_am)

. qui by id : gen dx175_am = x175_am[_n+1]-x175_am*(1-d_am)

. summ dx*

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}dx90 {c |}{res}      8,156    .6593919    .4984083          0          2
{txt}{space 7}dx175 {c |}{res}      8,156    1.287641    .6789463          0          3
{txt}{space 5}dx90_am {c |}{res}      8,156    .6623345    .5624756          0         24
{txt}{space 4}dx175_am {c |}{res}      8,156    1.293526    .8589913          0         48

{com}. tab dx90_am

    {txt}dx90_am {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      2,876       35.26       35.26
{txt}          1 {c |}{res}      5,182       63.54       98.80
{txt}          2 {c |}{res}         96        1.18       99.98
{txt}          4 {c |}{res}          1        0.01       99.99
{txt}         24 {c |}{res}          1        0.01      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      8,156      100.00

{com}. tab dx175_am

   {txt}dx175_am {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        896       10.99       10.99
{txt}          1 {c |}{res}      4,170       51.13       62.11
{txt}          2 {c |}{res}      2,954       36.22       98.33
{txt}          3 {c |}{res}        123        1.51       99.84
{txt}          4 {c |}{res}          8        0.10       99.94
{txt}          5 {c |}{res}          3        0.04       99.98
{txt}          8 {c |}{res}          1        0.01       99.99
{txt}         48 {c |}{res}          1        0.01      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      8,156      100.00

{com}. tab dx90_am if group!=4

    {txt}dx90_am {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}      1,184       30.64       30.64
{txt}          1 {c |}{res}      2,638       68.27       98.91
{txt}          2 {c |}{res}         41        1.06       99.97
{txt}          4 {c |}{res}          1        0.03      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      3,864      100.00

{com}. di 1-.301-.6884
{res}.0106

{com}. sca N 3864
{err}varlist not allowed
{txt}{search r(101), local:r(101);}

{com}. sca N = 3864

. di N*(.3010*log(.3010)+.6884*log(.6884)+.0106*log(.0106))
{res}-2575.8571

{com}. di .3059-.3010
{res}.0049

{com}. di .6884-.6832
{res}.0052

{com}. di .01069-.0106
{res}.00009

{com}. di 1/3864
{res}.0002588

{com}. di (1/3864)*2
{res}.0005176

{com}. di (1/3864)*1
{res}.0002588

{com}. tab dx175

      {txt}dx175 {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        896       10.99       10.99
{txt}          1 {c |}{res}      4,166       51.08       62.06
{txt}          2 {c |}{res}      2,946       36.12       98.19
{txt}          3 {c |}{res}        148        1.81      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      8,156      100.00

{com}. tab dx175 if group!=4

      {txt}dx175 {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        377        9.76        9.76
{txt}          1 {c |}{res}      1,713       44.33       54.09
{txt}          2 {c |}{res}      1,718       44.46       98.55
{txt}          3 {c |}{res}         56        1.45      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      3,864      100.00

{com}. di 3864*( .0976*log(.0976) + .4433*log(.4433)+.4446*log(.4446)+.0145*log(.0145))
{res}-3900.7192

{com}. 1-.09379-.4475-.4459
{bf}{err}1{sf} is not a valid command name
{txt}{search r(199), local:r(199);}

{com}. di 1-.09379-.4475-.4459
{res}.01281

{com}. .0976 - .0937
{err}{p 0 4 2}
0976 - .0937: class type not found
{p_end}
{txt}{search r(4018), local:r(4018);}

{com}. di .0976 - .0937
{res}.0039

{com}. di .4433 - .4475
{res}-.0042

{com}. di .0145-.1281
{res}-.1136

{com}. di 1-.0937-.4475-.4459
{res}.0129

{com}. di .0145-.0129
{res}.0016

{com}. di .4446-.4459
{res}-.0013

{com}. tab dx175_am if group!=4

   {txt}dx175_am {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        377        9.76        9.76
{txt}          1 {c |}{res}      1,715       44.38       54.14
{txt}          2 {c |}{res}      1,721       44.54       98.68
{txt}          3 {c |}{res}         48        1.24       99.92
{txt}          4 {c |}{res}          2        0.05       99.97
{txt}          8 {c |}{res}          1        0.03      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      3,864      100.00

{com}. tab dx175 if group==4

      {txt}dx175 {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        519       12.09       12.09
{txt}          1 {c |}{res}      2,453       57.15       69.25
{txt}          2 {c |}{res}      1,228       28.61       97.86
{txt}          3 {c |}{res}         92        2.14      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,292      100.00

{com}. di 1-.1191-.5762-.2868
{res}.0179

{com}. di .1209-.1191
{res}.0018

{com}. di .5715-.5762
{res}-.0047

{com}. di .2861-.2868
{res}-.0007

{com}. di .0214-.0179
{res}.0035

{com}. tab dx175_am if group==4

   {txt}dx175_am {c |}      Freq.     Percent        Cum.
{hline 12}{c +}{hline 35}
          0 {c |}{res}        519       12.09       12.09
{txt}          1 {c |}{res}      2,455       57.20       69.29
{txt}          2 {c |}{res}      1,233       28.73       98.02
{txt}          3 {c |}{res}         75        1.75       99.77
{txt}          4 {c |}{res}          6        0.14       99.91
{txt}          5 {c |}{res}          3        0.07       99.98
{txt}         48 {c |}{res}          1        0.02      100.00
{txt}{hline 12}{c +}{hline 35}
      Total {c |}{res}      4,292      100.00

{com}. di 4292*( .0937*log(.0937)+.4475*log(.4475)+.4459*log(.4459)+.0129*log(.0129) )
{res}-4283.1257

{com}. di 3864*( .0937*log(.0937)+.4475*log(.4475)+.4459*log(.4459)+.0129*log(.0129) )
{res}-3856.0107

{com}. 